{% extends 'base.html.twig' %}

{% block body %}
<div class="min-h-screen bg-terracota-50 py-8">
    <div class="max-w-4xl mx-auto px-4 sm:px-6 lg:px-8">
        <h1 class="text-3xl font-bold text-terracota-800 mb-8">Ma commande</h1>

        <div class="bg-white rounded-lg shadow-sm p-6">
            {{ form_start(deliverForm, {'attr': {'class': 'space-y-6'}}) }}

            <!-- Sélection de l'adresse -->
            <div>
                {{ form_label(deliverForm.addresses, "Adresse de livraison", {
                label_attr: { class: "block text-sm font-medium text-terracota-700 mb-2" }
                }) }}
                {{ form_widget(deliverForm.addresses, {
                attr: { class: "mt-1 block w-full rounded-md border-terracota-200 shadow-sm focus:border-terracota-500
                focus:ring-terracota-500" }
                }) }}
                {{ form_errors(deliverForm.addresses) }}
                <div class="mt-2">
                    <a href="{{ path('app_account_address_form') }}"
                        class="inline-flex items-center text-sm text-terracota-600 hover:text-terracota-700 transition-colors">
                        <svg class="w-4 h-4 mr-1" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 4v16m8-8H4" />
                        </svg>
                        Ajouter une nouvelle adresse
                    </a>
                </div>
            </div>

            <hr class="my-6 border-terracota-100" />

            <!-- Sélection du transporteur -->
            <div>
                {{ form_label(deliverForm.carriers, "Transporteur", {
                label_attr: { class: "block text-sm font-medium text-terracota-700 mb-2" }
                }) }}
                {{ form_widget(deliverForm.carriers, {
                attr: { class: "mt-1 block w-full rounded-md border-terracota-200 shadow-sm focus:border-terracota-500
                focus:ring-terracota-500" }
                }) }}
                {{ form_errors(deliverForm.carriers) }}
            </div>

            <!-- Bouton de soumission UNIQUE -->
            <div class="mt-8">
                {{ form_widget(deliverForm.submit, {
                'attr': {
                'class': 'w-full flex justify-center py-3 px-4 border border-transparent rounded-md shadow-sm text-sm
                font-medium text-white bg-terracota-600 hover:bg-terracota-700 focus:outline-none focus:ring-2
                focus:ring-offset-2 focus:ring-terracota-500 transition-colors'
                }
                }) }}
            </div>

            {{ form_end(deliverForm) }}
        </div>
    </div>
</div>
{% endblock %}